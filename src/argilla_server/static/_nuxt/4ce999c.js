(window.webpackJsonp=window.webpackJsonp||[]).push([[219,59,141,216],{1018:function(e,t,n){"use strict";n(863)},1019:function(e,t,n){var i=n(81),s=n(85),o=n(86),a=n(87),r=i((function(e){return e[1]})),c=s(o),d=s(a);r.push([e.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+c+') format("woff2"),url('+d+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.content__input[data-v-9edd1f3c] ::-moz-selection{background:none!important}.content__input[data-v-9edd1f3c] ::selection{background:none!important}',""]),r.locals={},e.exports=r},1040:function(e,t,n){"use strict";n.r(t);n(45),n(25),n(50),n(23),n(51);var i=n(35),s=n(18),o=(n(416),n(24),n(29),n(6),n(88),n(48),n(234),n(146)),a=n(236);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var r={props:{viewSettings:{type:Object,required:!0},entities:{type:Array},datasetId:{type:Array,required:!0},datasetName:{type:String,required:!0},datasetEntities:{type:Array,required:!0},datasetLastSelectedEntity:{type:Object,required:!0},record:{type:Object,required:!0},visualTokens:{type:Array,required:!0},origin:{type:String,required:!0}},data:function data(){return{selectionStart:void 0,selectionEnd:void 0,selectionOver:void 0,suggestedLabel:void 0}},computed:{textSpans:function textSpans(){for(var e=this,t=0,textSpans=[],n=function normalizedEntities(e,t){var n=function tokenForChar(e,t){var n=t.findIndex((function(t){return t.start<=e&&e<t.end}));return n>=0?n:void 0};return e.map((function(e){var i=n(e.start,t),s=n(e.end-1,t);return e.start_token&&e.end_token?e:_objectSpread(_objectSpread({},e),{},{start_token:i,end_token:s+1})}))}(this.entities,this.visualTokens),i=function _loop(){var i=textSpans.length,s=n.filter((function(e){return e.start_token<=t&&t<e.end_token})),o=s.find((function(e){return!(i>0)||e.start>=textSpans[i-1].end}));if(o)textSpans.push({entity:o,tokens:e.visualTokens.slice(o.start_token,o.end_token),start:o.start,end:o.end,origin:e.origin,charsBetweenTokens:o.charsBetweenTokens}),t=o.end_token;else{var a=e.visualTokens[t];textSpans.push({entity:void 0,tokens:[a],start:a.start,end:a.end,origin:e.origin,charsBetweenTokens:a.charsBetweenTokens}),t++}};t<this.visualTokens.length;)i();return textSpans}},methods:_objectSpread(_objectSpread({},Object(o.b)({updateRecords:"entities/datasets/updateDatasetRecords"})),{},{updateAnnotatedEntities:function updateAnnotatedEntities(e){this.updateRecords({dataset:this.getTokenClassificationDataset(),records:[_objectSpread(_objectSpread({},this.record),{},{selected:!0,status:"Edited",annotatedEntities:e})]})},reset:function reset(e){e.target===this.$refs.list&&this.onReset()},onReset:function onReset(){this.selectionStart=void 0,this.selectionEnd=void 0,this.selectionOver=void 0,this.suggestedLabel=void 0},onStartSelection:function onStartSelection(e){this.suggestedLabel=void 0,this.selectionStart=e},onEndSelection:function onEndSelection(e){this.selectionEnd=e},onOverSelection:function onOverSelection(e){void 0!==this.selectionStart&&void 0===this.selectionEnd?this.selectionOver=e:this.selectionOver=void 0},onSelectEntity:function onSelectEntity(e){var t=Math.min(this.selectionStart,this.selectionEnd),n=Math.max(this.selectionStart,this.selectionEnd),s=this.textSpans[t].tokens[0],o=this.textSpans[n].tokens.reverse()[0],a=Object(i.a)(this.entities);a.push({start:s.start,end:o.end,label:e}),this.updateAnnotatedEntities(a),this.onReset()},onChangeEntityLabel:function onChangeEntityLabel(e,t){var n=this.entities.map((function(n){return n.start===e.start&&n.end===e.end&&n.label===e.label?_objectSpread(_objectSpread({},n),{},{label:t}):n}));this.updateAnnotatedEntities(n),this.onReset()},onRemoveEntity:function onRemoveEntity(e){var t=this.entities.findIndex((function(t){return t.start===e.start&&t.end===e.end&&t.label===e.label})),n=Object(i.a)(this.entities);n.splice(t,1),this.updateAnnotatedEntities(n),this.onReset()},isSelected:function isSelected(e,t,n){var i=Math.min(t,n),s=Math.max(t,n);return this.suggestEntity(),e>=i&&e<=s},isLastSelected:function isLastSelected(e,t){return e===t},suggestEntity:function suggestEntity(){var e=Object(i.a)(this.textSpans),t=Math.min(this.selectionStart,this.selectionEnd),n=Math.max(this.selectionStart,this.selectionEnd),s=e[t]&&e[t].tokens[0],o=e[n]&&e[n].tokens[e[n].tokens.length-1],a=this.record.prediction&&this.record.prediction.entities.find((function(e){return e.start===(s&&s.start)&&e.end===(o&&o.end)}));a&&(this.suggestedLabel=a.label)},getTokenClassificationDataset:function getTokenClassificationDataset(){return Object(a.a)(this.datasetId)}})},c=(n(1018),n(39)),d=Object(c.a)(r,(function render(){var e=this,t=e._self._c;return e.textSpans.length?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onReset,expression:"onReset"}],ref:"list",staticClass:"content__input",on:{mouseup:function mouseup(t){return e.reset(t)}}},e._l(e.textSpans,(function(n,i){return t("text-span",{key:i,class:[e.isSelected(i,e.selectionStart,e.selectionEnd)||e.isSelected(i,e.selectionStart,e.selectionOver)?"selected":"",e.isLastSelected(i,e.selectionEnd)?"last-selected":""],attrs:{record:e.record,token:n,"span-id":i,viewSettings:e.viewSettings,datasetId:e.datasetId,datasetName:e.datasetName,datasetLastSelectedEntity:e.datasetLastSelectedEntity,datasetEntities:e.datasetEntities,suggestedLabel:e.suggestedLabel},on:{startSelection:e.onStartSelection,endSelection:e.onEndSelection,overSelection:e.onOverSelection,selectEntity:e.onSelectEntity,changeEntityLabel:e.onChangeEntityLabel,removeEntity:e.onRemoveEntity,updateRecordEntities:function updateRecordEntities(t){return e.$emit("updateRecordEntities")}}})})),1):e._e()}),[],!1,null,"9edd1f3c",null);t.default=d.exports;installComponents(d,{TextSpan:n(1220).default})},753:function(e,t,n){n(178).register({close:{width:41,height:40,viewBox:"0 0 41 40",data:'<path pid="0" d="M8.922 5.587a2.005 2.005 0 10-2.835 2.835L17.665 20 6.087 31.577a2.005 2.005 0 102.836 2.836L20.5 22.835l11.577 11.578a2.005 2.005 0 002.836-2.836L23.335 20 34.913 8.422a2.005 2.005 0 00-2.835-2.835L20.5 17.165 8.922 5.587z" _fill="#000"/>'}})},863:function(e,t,n){var i=n(1019);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(82).default)("49ce863c",i,!0,{sourceMap:!1})}}]);